
```
$ docker-compose exec backend aerich init -t src.database.config.TORTOISE_ORM
Success create migrate location ./migrations
Success write config to pyproject.toml

$ docker-compose exec backend aerich init-db
Success create app migrate location migrations/models
Success generate schema for app "models"
```

	docker-compose exec backend aerich init -t src.database.config.TORTOISE_ORM
1. Первая команда говорит aerich'у массив конфигурации для инициализации подключения между моделями и базой данных. Он создает **pyproject.toml** файл конфигурации и migrations папку.

	docker-compose exec backend aerich init-db
2. Далее мы генерируем файл миграции для нашей модели: **users, aerich** и т.д. внутри **migrations/models**, это команда нужна что загрузить в нашу базу первые модели, одна из основных это aerich, она хранит список миграций. После инициализации, можно больше не выполнять эту команду. Далее мы будем пользоваться только migrate и update

После чего в dockerfile нужно добавить, для того чтобы скопировать миграции:
```
# for migrations
COPY migrations .
COPY pyproject.toml .
```

Для обновления моделей в базе:
```
$ docker-compose exec backend aerich migrate
$ docker-compose exec backend aerich upgrade
```